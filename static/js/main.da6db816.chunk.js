(this["webpackJsonpimage-retrieval-ui"]=this["webpackJsonpimage-retrieval-ui"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),i=s(4),r=s.n(i),n=s(6),l=s(2),d=s(3);const j="http://localhost:8001";var o=()=>{const[e,t]=Object(c.useState)(null),[s,a]=Object(c.useState)([]),[i,r]=Object(c.useState)(""),[n,l]=Object(c.useState)([]),[o,b]=Object(c.useState)(!1),[h,x]=Object(c.useState)(null),[O,m]=Object(c.useState)(null);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"sensei-card",children:[Object(d.jsx)("h2",{children:"Search by Image"}),Object(d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e){b(!0);try{var s;const t=new FormData;t.append("image",e);const c=await fetch("".concat(j,"/search_by_image"),{method:"POST",body:t}),i=await c.json();a(i.results||[]),x(null!==(s=i.query_ood_score)&&void 0!==s?s:null)}catch(c){alert("Image search failed.")}b(!1)}},children:[Object(d.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var s;return t((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)}}),Object(d.jsx)("button",{className:"sensei-btn",type:"submit",disabled:o,children:"Upload & Search"})]}),null!==h&&Object(d.jsxs)("div",{style:{margin:"1em 0"},children:[Object(d.jsx)("strong",{children:"Query OOD Score:"})," ",h.toFixed(2)]}),Object(d.jsx)("div",{children:s.map(((e,t)=>Object(d.jsxs)("div",{className:"result",style:{border:"1px solid #ccc",borderRadius:"8px",marginBottom:"1em",padding:"1em"},children:[e.path&&Object(d.jsx)("img",{src:j+e.path,alt:"",style:{maxWidth:400,maxHeight:400,borderRadius:12,marginBottom:"0.5em"}}),Object(d.jsxs)("div",{children:["Rank: ",e.rank]}),Object(d.jsxs)("div",{children:["Caption: ",e.caption]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("strong",{children:"OOD Score:"})," ",e.ood_score.toFixed(2)]})]},t)))})]}),Object(d.jsxs)("div",{className:"sensei-card",children:[Object(d.jsx)("h2",{children:"Search by Text"}),Object(d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(!0);try{var t;const e=await fetch("".concat(j,"/search_by_text"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:i})}),s=await e.json();l(s.results||[]),m(null!==(t=s.query_ood_score)&&void 0!==t?t:null)}catch(s){alert("Text search failed.")}b(!1)},children:[Object(d.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Enter your query..."}),Object(d.jsx)("button",{className:"sensei-btn",type:"submit",disabled:o,children:"Search"})]}),null!==O&&Object(d.jsxs)("div",{style:{margin:"1em 0"},children:[Object(d.jsx)("strong",{children:"Query OOD Score:"})," ",O.toFixed(2)]}),Object(d.jsx)("div",{children:n.map(((e,t)=>Object(d.jsxs)("div",{className:"result",style:{border:"1px solid #ccc",borderRadius:"8px",marginBottom:"1em",padding:"1em"},children:[e.path&&Object(d.jsx)("img",{src:j+e.path,alt:"",style:{maxWidth:400,maxHeight:400,borderRadius:12,marginBottom:"0.5em"}}),Object(d.jsxs)("div",{children:["Rank: ",e.rank]}),Object(d.jsxs)("div",{children:["Caption: ",e.caption]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("strong",{children:"OOD Score:"})," ",e.ood_score.toFixed(2)]})]},t)))})]})]})};s(12);var b=()=>Object(d.jsxs)(n.a,{children:[Object(d.jsx)("div",{className:"sensei-splash-bg"}),Object(d.jsx)("div",{className:"sensei-splash-overlay"}),Object(d.jsxs)("div",{style:{position:"relative",zIndex:2},children:[Object(d.jsxs)("header",{className:"sensei-header",children:[Object(d.jsx)("span",{role:"img","aria-label":"ninja",children:"\ud83e\udd77"})," Sens-AI-Search",Object(d.jsxs)("div",{className:"sensei-subheader",children:["Find images by text or upload, powered by AI ",Object(d.jsx)("span",{role:"img","aria-label":"spark",children:"\u2728"})]})]}),Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{path:"/",element:Object(d.jsx)(o,{})})}),Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{path:"/sens-AI-search",element:Object(d.jsx)(o,{})})})]})]});r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.da6db816.chunk.js.map