(this["webpackJsonpimage-retrieval-ui"]=this["webpackJsonpimage-retrieval-ui"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),r=s(4),i=s.n(r),n=s(6),d=s(2),l=s(3);const o="https://e572-169-235-30-91.ngrok-free.app";var j=()=>{const[e,t]=Object(c.useState)(null),[s,a]=Object(c.useState)([]),[r,i]=Object(c.useState)(""),[n,d]=Object(c.useState)([]),[j,b]=Object(c.useState)(!1),[h,x]=Object(c.useState)(null),[O,m]=Object(c.useState)(null);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"sensei-card",children:[Object(l.jsx)("h2",{children:"Search by Image"}),Object(l.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e){b(!0);try{var s;const t=new FormData;t.append("image",e);const c=await fetch("".concat(o,"/search_by_image"),{method:"POST",body:t,headers:{"ngrok-skip-browser-warning":"true"},mode:"cors"}),r=await c.json();a(r.results||[]),x(null!==(s=r.query_ood_score)&&void 0!==s?s:null)}catch(c){alert("Image search failed.")}b(!1)}},children:[Object(l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var s;return t((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)}}),Object(l.jsx)("button",{className:"sensei-btn",type:"submit",disabled:j,children:"Upload & Search"})]}),null!==h&&Object(l.jsxs)("div",{style:{margin:"1em 0"},children:[Object(l.jsx)("strong",{children:"Query OOD Score:"})," ",h.toFixed(2)]}),Object(l.jsx)("div",{children:s.map(((e,t)=>Object(l.jsxs)("div",{className:"result",style:{border:"1px solid #ccc",borderRadius:"8px",marginBottom:"1em",padding:"1em"},children:[e.path&&Object(l.jsx)("img",{src:o+e.path,alt:e.caption,style:{maxWidth:400,maxHeight:400,borderRadius:12,marginBottom:"0.5em"}}),Object(l.jsxs)("div",{children:["Rank: ",e.rank]}),Object(l.jsxs)("div",{children:["Caption: ",e.caption]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:"OOD Score:"})," ",e.ood_score.toFixed(2)]})]},t)))})]}),Object(l.jsxs)("div",{className:"sensei-card",children:[Object(l.jsx)("h2",{children:"Search by Text"}),Object(l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(!0);try{var t;const e=await fetch("".concat(o,"/search_by_text"),{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({query:r}),mode:"cors"}),s=await e.json();d(s.results||[]),m(null!==(t=s.query_ood_score)&&void 0!==t?t:null)}catch(s){alert("Text search failed.")}b(!1)},children:[Object(l.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your query..."}),Object(l.jsx)("button",{className:"sensei-btn",type:"submit",disabled:j,children:"Search"})]}),null!==O&&Object(l.jsxs)("div",{style:{margin:"1em 0"},children:[Object(l.jsx)("strong",{children:"Query OOD Score:"})," ",O.toFixed(2)]}),Object(l.jsx)("div",{children:n.map(((e,t)=>Object(l.jsxs)("div",{className:"result",style:{border:"1px solid #ccc",borderRadius:"8px",marginBottom:"1em",padding:"1em"},children:[e.path&&Object(l.jsx)("img",{src:o+e.path,alt:e.caption,style:{maxWidth:400,maxHeight:400,borderRadius:12,marginBottom:"0.5em"}}),Object(l.jsxs)("div",{children:["Rank: ",e.rank]}),Object(l.jsxs)("div",{children:["Caption: ",e.caption]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:"OOD Score:"})," ",e.ood_score.toFixed(2)]})]},t)))})]})]})};s(12);var b=()=>Object(l.jsxs)(n.a,{children:[Object(l.jsx)("div",{className:"sensei-splash-bg"}),Object(l.jsx)("div",{className:"sensei-splash-overlay"}),Object(l.jsxs)("div",{style:{position:"relative",zIndex:2},children:[Object(l.jsxs)("header",{className:"sensei-header",children:[Object(l.jsx)("span",{role:"img","aria-label":"ninja",children:"\ud83e\udd77"})," Sens-AI-Search",Object(l.jsxs)("div",{className:"sensei-subheader",children:["Find images by text or upload, powered by AI ",Object(l.jsx)("span",{role:"img","aria-label":"spark",children:"\u2728"})]})]}),Object(l.jsx)(d.c,{children:Object(l.jsx)(d.a,{path:"/",element:Object(l.jsx)(j,{})})}),Object(l.jsx)(d.c,{children:Object(l.jsx)(d.a,{path:"/sens-AI-search",element:Object(l.jsx)(j,{})})})]})]});i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.b9cd4046.chunk.js.map